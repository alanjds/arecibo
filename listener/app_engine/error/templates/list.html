{% extends "base.html" %}
{% block content %}
<div class="span-18">
{% if page.object_list %}
<table class="listing">
    <thead>
        <tr>
            <th>Unread</th>
            <th>Status</th>
            <th>Type</th>
            <th>Date</th>
            <th>UID</th>
            <th>Domain</th>
            <th>Fragment</th>
    </thead>
    <tbody>
        {% for error in page.object_list %}
        <tr class="{% cycle 'odd' 'even' %}">
            <td>{% if error.read %}{% else %}<img src="/media/img/read.png" alt="Unread" />{% endif %}</td>
            <td class="priority_{{ error.priority }}">{{ error.status }}</td>                                                            
            <td class="priority_{{ error.priority }}">{{ error.type_short }}</td>
            <td><a href="{% url error-view error.id %}">{{ error.timestamp|date:"d M, Y g:ia" }}</a></td>
            <td>{{ error.uid }}</td>
            <td>{{ error.domain }}</td>                   
            <td>{{ error.query_short }}</td>
        </tr>
        {% endfor %}      
    </tbody>
</table>
{% else %}
<p>No errors found. Could be you've not sent any errors yet. Perhaps you've got some filters
    set in the page, in which case <a href="{% url error-list %}">reset them</a>.</p>
{% endif %}
</div>
<div class="span-5">
    {% include "filter.html" %}
</div>
<div class="pagination clear">
    <span class="step-links">
        {% if page.has_previous %}
            <a href="?{{ qs }}&amp;page={{ page.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page.number }}.
        </span>

        {% if page.has_next %}
            <a href="?{{ qs }}&amp;page={{ page.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>

{% endblock %}